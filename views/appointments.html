<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Front-Page</title>
    <link rel="stylesheet" href="/css/style_index.css">
    <link rel="stylesheet" href="/bootstrap/dist/css/bootstrap.css">
    <link href='https://fonts.googleapis.com/css?family=Inter' rel='stylesheet'>
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Droid+Sans" />
    <link href="/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" >
  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link href="/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href=
    "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />

    <link rel="stylesheet" href=
    "https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity=
    "sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            crossorigin="anonymous">
            <script src="/@popperjs/core/dist/umd/popper.min.js"></script>
<script src="/bootstrap/dist/js/bootstrap.min.js" ></script>
</head>
</head>
<body style="background-color: rgba(217, 251, 254, 0.283);">
    
  <nav class="navbar navbar-expand-md" >
    <div class="container-fluid">
        
      <a class="navbar-brand " style="font-family:'Inter'">
        <span class="mt-3 ml-5" style="font-size: 3rem;color: #18CDCA;float: left;font-weight: 600;" >Med</span>
        <span class="mt-3 " style="font-size: 3rem;color: #4F4F4F ;float: left;font-weight: 600;">Repo</span>
        </a>


        <button class="navbar-toggler me-5" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>


        <div class=" collapse navbar-collapse" id="navbarTogglerDemo02" style=" float: right;font-size:larger ;font-weight:bold ;font-family: 'Inter';">
          <ul class="navbar-nav " style="margin-left: 4.5rem;" >
            <li class="nav-item mt-3 ms-4 background-nice" style="margin-top: 3rem;">
              <a class="nav-link mt-1  ms-1" href="" style="color:#ffffff;" id="index1">
                <span  class="fa fa-people-group ml-3 mt-1" style="color: #6b6b6b; width:1.78625 rem;float: left;">
                    <span class="mt-3 ml-4" style="font-family:'Inter'; color: #6b6b6b;font-weight: 100;">Patients</span>
                </a>
            </li>
            <li class="nav-item background-better ms-4 mt-3 " style=" margin-top: 2.8rem;">
                <a class="nav-link" href="#" style="color:#828282;">
                    <span  class="fa fa-heart-circle-plus ml-3 mt-2" style="color: #ffffff; width:1.78625 rem;float: left;">
                    <span class="mt-3 ml-4" style="font-family:'Inter'; color: rgb(255, 255, 255);font-weight: 100;">Appointments</span>
        
                  
                </a>
            </li>
            <li class="nav-item background-nice ms-4 mt-3 " style=" margin-top: 2.8rem;">
                <a class="nav-link " href="#" style="color:#828282;">
                    <span  class="fa fa-plus ml-3 mt-1" style="color: #6b6b6b; width:1.78625 rem;float: left;">
                        <span class="mt-3 ml-4" style="font-family:'Inter'; color: #6b6b6b;font-weight: 100;">Emergencies</span>
            
                  
                </a>
            </li>
          </ul>

            <div class="nav-item fresh mt-3 circle" style="align-items: end; margin-left:7rem;float: right; ">
                <a class="nav-link" href="#" style="color:#828282;">
                    <!--<img src="/images/R.png" class="ml-1 mt-2 " >-->
                    <span class="fa fa-bell  fa-2x" style="margin-left: -0.3rem; color: #0a5755;"></span>
                </a>
              </div>

              
            <div class="nav-item circle mt-3 fresh" style="margin-left:2rem;float: right; background-color:#18CDCA;">
                
            <a class="nav-link " role="button" data-bs-toggle="offcanvas" href="#offcanvasNavbar" aria-controls="offcanvasNavbar">
              <span class="fa fa-user fa-2x" style="margin-left: -0.1rem; color: #0a5755;"></span>
            </a>

            <!--sidebar-->
                    
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
              <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Collapse Menu</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                <div >
                </div>

              </div>
            </div>


        <!--sidebar close-->

            </div>
         </div>
    </div>
</nav>
<!--navbar over-->


<div class="row container-fluid">
  <div class="ml-sm-4 ml-5 col-md-4 col-sm-8 mt-4">

      <div class="" style="font-family: 'Droid Sans'; color: rgb(13, 13, 109);font-weight:600;">
          <div class="col-10" style="font-size: 1.2rem;">
          <input type="search" class="fa fa-search form-control" style="font-family: 'Inter'; height: 3rem;" id="Name" aria-describedby="name" placeholder="Search by Patient Name or Hospital">
      </div>
          <div class="col-2 " style="float: right; margin-top: -3rem;">
              <button type="submit" class="btn " style="font-size: 1.2rem;height: 3rem;width: 8rem; background-color: #027874;color: white;">Search</button>
            </div>
        </div>


  </div>

  <div class="ml-5 col-md-4 col-sm-8 mt-4 mb-3">

      <div class="col-3 ms-3" style="opacity: 50%; margin-top: 0.75rem;">
          <label for="exampleDataList" class="form-label">Sort by:</label>
          </div>

          <div class="col-6 " style="opacity: 50%; margin-left: 6rem; margin-top: -2.5rem;">
            <select style="height: 2.5rem; width: 11rem;border-radius: 7px;border-width: 0.2rem;">
              <option value="" disabled selected style="font-weight: 0.2rem;">Select</option> 
              <option>Pending</option>
              <option>Active Patients</option>
              <option>Completed</option>
              <option>Due date</option>
            </select>
              

              </div>
        
  </div>
</div>


<ul class="nav-tabs nav mt-4 mb-3 ml-5" style="border-bottom: none;">
    <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="#" style="border-bottom: solid #18CDCA; font-weight: 500; border-left: none; border-top: none;border-right: none; color: #0B5B5A; font-size: larger;background-color: rgba(217, 251, 254, 0.283);">Pending Patients</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="appointed" style="font-weight: 500; color: #5b5b5b;font-size: larger;" id="appointed">Appointed Patients</a>
      </li>
</ul>

<div class="row container-fluid">
    <span class=" mt-3 col-md-1 col-sm-2" style=" margin-left: 3.5rem; color: #a2a2a2; font-size:larger; font-weight: 600; font-family: 'Inter';">
        Date
    </span>
    <span class=" mt-3 col-md-4 col-sm-4" style=" margin-left: 3.5rem; color: #a2a2a2; font-size:larger; font-weight: 600; font-family: 'Inter';">
        Patient Name
    </span>
    <span class=" mt-3 col-md-2 col-sm-3" style=" margin-left: 3.5rem; color: #a2a2a2; font-size:larger; font-weight: 600; font-family: 'Inter';">
        Reg. No.
    </span>
</div>

<div class="card-13 row ms-5 mt-4 me-5 mb-1" id="demo" style="background-color: #028a8513;visibility: hidden;" >
    <span class=" mt-4 col-md-1 col-sm-2 mb-3" style="  color: #000000; font-size:medium; font-family: 'Inter';">
        11/3/2022
    </span>
    <img src="/images/kk.jpeg" alt="" class="ms-5 mt-2 " style="width:75px;height: 50px; border-radius: 50%;">
    <span class=" mt-4 col-md-3 col-sm-3 mb-3" style=" color: #000000; font-size:medium; font-family: 'Inter';" id="name">
        Elemoe Noir
    </span>
    <span class=" mt-4 col-md-2 col-sm-3 mb-3" style=" margin-left: 1rem; color: #000000; font-size:medium; font-family: 'Inter';">
        #43438342
    </span>

    <span class="mt-3 col-md-2 col-sm-4 mb-3" style="float: right; margin-top: -3rem;">
        <button class="btn approve" style="margin-top: -1rem; font-size: 1.2rem;height: 3rem;width: 6rem;color: #02615e;" id="approve">Approve</button>
        <i class="fa fa-2x fa-check-square" style="color:#02615e"></i>
      </span>
      <span class=" mt-3 col-md-2 col-sm-4 mb-3" style="float: right; ">
        <button  class="btn decline" style="margin-top: -1rem; font-size: 1.2rem;height: 3rem;width: 6rem; color: rgb(161, 0, 0);" id="decline">Decline</button>
        <i class="fa fa-2x fa-times-rectangle" style="color:rgb(161, 0, 0)"></i>
      </span>

</div>


<script language="JavaScript" type="text/javascript" src="/jquery/dist/jquery.min.js"></script>


<script>
$(document).ready(function() {
  
      var url = $(location).attr('href'),
        parts = url.split("/"),
        doctorid = parts[parts.length-3];
        href="/doctors/"+doctorid+"/appointments";
        $("#appointed").attr("href",href+"/appointed");
        $("#index1").attr("href","doctors/"+doctorid)
        
        $.get("/doctors/"+doctorid+"/appointments/getdata")
            .done(function(response){

              let number=response.number;
              let i=0;

                if(number!=0)for(i=0;i<number;i++){
                    var elem = document.querySelector('#demo');
                    var clone = elem.cloneNode(true);
                    clone.id = 'demo'+i;
                    clone.style.visibility="visible";
                    elem.before(clone);
                    $("#demo"+i).find('#name').text(response.Name[i])
                    $("#demo"+i).find("#approve").attr('id',""+i);
                    $("#demo"+i).find("#decline").attr('id',""+i);
                  }

                $(".approve").on("click",function(){
                  let i=$(this).attr('id');
                  let id=response.id[i];
                $.post('/doctors/'+doctorid+'/appointments/approved/'+id)
                    .done(function(response){
                      if(response.message=="success"){
                        location.reload();
                      }

                    })

                  .fail(function(jqXHR, textStatus, errorThrown) {
                  alert(errorThrown)});

                })
                $(".decline").on("click",function(){
                  let i=$(this).attr('id');
                  let id=response.id[i];
                $.post('/doctors/'+doctorid+'/appointments/declined/'+id)
                    .done(function(response){
                      alert("declined?")
                      if(response.message=="success"){
                        location.reload();
                      }

                    })

                  .fail(function(jqXHR, textStatus, errorThrown) {
                  alert(errorThrown)});

                })

                })
                  

                .fail(function(jqXHR, textStatus, errorThrown) {
                  alert(errorThrown)});
                
               })

</script>






















</body>




</html>